<!DOCTYPE html>
<html ng-app="myApp">
  <head>
    <link href='./css/style.css' rel="stylesheet" type="text/css" />
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="./js/report.js"></script>
  </head>
  <body ng-controller="ReportCtrl">
  	<div ng-class="loading"></div>
	<div class="container theme-showcase" role="main">
      	<!-- Main jumbotron for a primary marketing message or call to action -->
		<div class="jumbotron">
		  <h1>AWS Flavor Based Report</h1>
		  <p>This report generate Flavor based VMs count.</p>
		  <form ng-submit="loadRegionReport()" class="form-inline">
		     <div class="row">
			     <div class="form-group">
			      <label for="accounts">Access Key:</label>
			      <input type="text" ng-model="accountreport.accessKey" class="form-control" placeholder="Enter AWS Access Key">
			      <label for="accounts">Secret Key:</label>
			      <input type="text" ng-model="accountreport.secretKey" class="form-control" placeholder="Enter AWS Secret Key">
			      <button class="btn btn-primary btn-sm">Generate Report</button>
			     </div>
		     </div>
  		  </form>
		</div>
		<table class="table table-bordered" style="margin-top:10px">
		     <tr class="active">
		         <th>Region</th>
		         <th>Flavor Name</th>
		         <th>Count</th>
		     </tr>
		     <tr ng-repeat-start="region in regions">
		      	 {{region.regionName}}
		         <td style="font-weight: bold;" colspan="4">
		              {{region.regionName}}
		         </td>
		     </tr>
		     <tr>
		     	<td rowspan="{{region.length}}" colspan="1"></td>
		     	<td colspan="1" >Total VMS</td>
		     	<td colspan="1" >{{region.totalVMS}}</td>
		     </tr>
		     <tr ng-repeat="(key,value) in region.flavorUsageInfo">
		     	 <td rowspan="{{region.length}}" colspan="1"></td>
		         <td colspan="1" >{{key}}</td>
		         <td colspan="1" >{{value}}</td>
		     </tr>
		     <tr ng-repeat-end></tr>
		</table>
   	</div>
  </body>
</html>